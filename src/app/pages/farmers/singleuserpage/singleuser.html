<div class="user-content" *ngIf="user">
    <div class="header-section">
        <div class="device-header">
            <h3>Users</h3>
            <h1 class="green-text">{{ user.nodeName }}</h1>
        </div>
        <button class="edit-button" (click)="edituser (user)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path
                    d="M21.7312 2.26884C20.706 1.24372 19.044 1.24372 18.0188 2.26884L16.8617 3.42599L20.574 7.1383L21.7312 5.98116C22.7563 4.95603 22.7563 3.29397 21.7312 2.26884Z"
                    fill="white" />
                <path
                    d="M19.5133 8.19896L15.801 4.48665L7.40019 12.8875C6.78341 13.5043 6.33002 14.265 6.081 15.101L5.28122 17.7859C5.2026 18.0498 5.27494 18.3356 5.46967 18.5303C5.6644 18.725 5.95019 18.7974 6.21412 18.7188L8.89901 17.919C9.73498 17.67 10.4957 17.2166 11.1125 16.5998L19.5133 8.19896Z"
                    fill="white" />
                <path
                    d="M5.25 5.24999C3.59315 5.24999 2.25 6.59314 2.25 8.24999V18.75C2.25 20.4068 3.59315 21.75 5.25 21.75H15.75C17.4069 21.75 18.75 20.4068 18.75 18.75V13.5C18.75 13.0858 18.4142 12.75 18 12.75C17.5858 12.75 17.25 13.0858 17.25 13.5V18.75C17.25 19.5784 16.5784 20.25 15.75 20.25H5.25C4.42157 20.25 3.75 19.5784 3.75 18.75V8.24999C3.75 7.42156 4.42157 6.74999 5.25 6.74999H10.5C10.9142 6.74999 11.25 6.41421 11.25 5.99999C11.25 5.58578 10.9142 5.24999 10.5 5.24999H5.25Z"
                    fill="white" />
            </svg>
            Edit User
        </button>
    </div>

    <!-- User Details -->
    <div class="user-details">
        <div class="details">
            <div class="detail-item">
                <span class="label">User Name:</span>
                <span class="value">{{ user.userName }}</span>
            </div>
            <div class="detail-item">
                <span class="label">Email:</span>
                <span class="value">{{ user.email}}</span>
            </div>
        </div>
        <div class="details">
            <div class="detail-item">
                <span class="label">Phone Number :</span>
                <span class="value">{{ user.phoneNumber }}</span>
            </div>
            <div class="detail-item">
                <span class="label">Address:</span>
                <span class="value">{{ user.address }}</span>
            </div>
        </div>
    </div>

    <!-- User Devices  -->
    <div class="user-devices" *ngIf="user.devices && user.devices.length > 0">
        <h1>User Devices </h1>
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Device Name</th>
                        <th>Status</th>
                        <th>Last Time Activated</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let device of user.devices">
                        <td>{{ device.deviceName }}</td>
                        <td>{{ device.deviceStatus }}</td>
                        <td>{{ device.lastTimeActivated }}</td>
                        <td>
                            <button class="edit-btn" (click)="editDevice(device)">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none">
                                    <path
                                        d="M20.2312 1.26884C19.206 0.243718 17.544 0.243718 16.5188 1.26884L15.3617 2.42599L19.074 6.1383L20.2312 4.98116C21.2563 3.95603 21.2563 2.29397 20.2312 1.26884Z"
                                        fill="#37612F" />
                                    <path
                                        d="M18.0133 7.19896L14.301 3.48665L5.90019 11.8875C5.28341 12.5043 4.83002 13.265 4.581 14.101L3.78122 16.7859C3.7026 17.0498 3.77494 17.3356 3.96967 17.5303C4.1644 17.725 4.45019 17.7974 4.71412 17.7188L7.39901 16.919C8.23498 16.67 8.99573 16.2166 9.61252 15.5998L18.0133 7.19896Z"
                                        fill="#37612F" />
                                    <path
                                        d="M3.75 4.24999C2.09315 4.24999 0.75 5.59314 0.75 7.24999V17.75C0.75 19.4068 2.09315 20.75 3.75 20.75H14.25C15.9069 20.75 17.25 19.4068 17.25 17.75V12.5C17.25 12.0858 16.9142 11.75 16.5 11.75C16.0858 11.75 15.75 12.0858 15.75 12.5V17.75C15.75 18.5784 15.0784 19.25 14.25 19.25H3.75C2.92157 19.25 2.25 18.5784 2.25 17.75V7.24999C2.25 6.42156 2.92157 5.74999 3.75 5.74999H9C9.41421 5.74999 9.75 5.41421 9.75 4.99999C9.75 4.58578 9.41421 4.24999 9 4.24999H3.75Z"
                                        fill="#37612F" />
                                </svg></button>
                            <button class="delete-btn" (click)="deleteDevice(device)">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"
                                    fill="none">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M17.0001 4.47819V4.70498C17.9548 4.79237 18.9017 4.90731 19.8398 5.04898C20.1871 5.10143 20.5332 5.15755 20.8781 5.2173C21.2863 5.28799 21.5598 5.67617 21.4891 6.0843C21.4184 6.49244 21.0302 6.76598 20.6221 6.69529C20.5525 6.68323 20.4829 6.67132 20.4131 6.65957L19.4077 19.7301C19.2875 21.2931 17.9842 22.5 16.4166 22.5H8.58369C7.01608 22.5 5.71276 21.2931 5.59253 19.7301L4.5871 6.65957C4.5174 6.67132 4.44774 6.68323 4.37813 6.69529C3.97 6.76598 3.58183 6.49244 3.51113 6.0843C3.44043 5.67617 3.71398 5.28799 4.12211 5.2173C4.46701 5.15755 4.81315 5.10143 5.16048 5.04898C6.09858 4.90731 7.0454 4.79237 8.00012 4.70498V4.47819C8.00012 2.91371 9.21265 1.57818 10.8156 1.52691C11.3749 1.50901 11.9365 1.5 12.5001 1.5C13.0638 1.5 13.6253 1.50901 14.1847 1.52691C15.7876 1.57818 17.0001 2.91371 17.0001 4.47819ZM10.8635 3.02614C11.4069 3.00876 11.9525 3 12.5001 3C13.0478 3 13.5934 3.00876 14.1367 3.02614C14.8913 3.05028 15.5001 3.68393 15.5001 4.47819V4.59082C14.5078 4.53056 13.5075 4.5 12.5001 4.5C11.4928 4.5 10.4925 4.53056 9.50012 4.59082V4.47819C9.50012 3.68393 10.1089 3.05028 10.8635 3.02614ZM10.5087 8.97118C10.4928 8.55727 10.1444 8.23463 9.73045 8.25055C9.31654 8.26647 8.99391 8.61492 9.00983 9.02882L9.35599 18.0288C9.3719 18.4427 9.72035 18.7654 10.1343 18.7494C10.5482 18.7335 10.8708 18.3851 10.8549 17.9712L10.5087 8.97118ZM15.9895 9.02882C16.0054 8.61492 15.6828 8.26647 15.2689 8.25055C14.855 8.23463 14.5065 8.55727 14.4906 8.97118L14.1444 17.9712C14.1285 18.3851 14.4512 18.7335 14.8651 18.7494C15.279 18.7654 15.6274 18.4427 15.6433 18.0288L15.9895 9.02882Z"
                                        fill="#B81010" />
                                </svg></button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>